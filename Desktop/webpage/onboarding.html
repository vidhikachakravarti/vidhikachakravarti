<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transform Your Health Journey - Choose Your Program</title>
    <link rel="stylesheet" href="onboarding-styles.css">
</head>
<body>
    <div class="container">
        <!-- Logo Header -->
        <div class="logo-header">
            <img src="lillia_logo-01.png" alt="Lillia" class="logo">
        </div>
        
        <!-- Progress Indicator -->
        <div class="progress-bar hidden" id="progressBar">
            <div class="progress-step active" data-step="1">
                <span class="step-number">1</span>
                <span class="step-label">Details</span>
            </div>
            <div class="progress-step" data-step="2">
                <span class="step-number">2</span>
                <span class="step-label">Verify</span>
            </div>
            <div class="progress-step" data-step="3">
                <span class="step-number">3</span>
                <span class="step-label">Schedule</span>
            </div>
            <div class="progress-step" data-step="4">
                <span class="step-number">4</span>
                <span class="step-label">Complete</span>
            </div>
        </div>

        <!-- Program Selection Page -->
        <div class="program-selection" id="programSelection">
            <div class="hero-section">
                <h1 class="hero-title">Transform Your Health with Expert-Guided Programs</h1>
                <p class="hero-subtitle">Choose from our scientifically-backed programs designed to deliver real results. Start with a FREE consultation to discuss your goals.</p>
            </div>

            <div class="programs-list">
                <!-- Diabetes Management Light -->
                <div class="program-item">
                    <div class="program-card" data-program="diabetes-light">
                        <div class="program-main">
                            <div class="program-icon">ü©∫</div>
                            <div class="program-info">
                                <h3 class="program-name">Diabetes Management ‚Äì Light</h3>
                                <span class="program-duration">3 months</span>
                            </div>
                            <div class="program-pricing">
                                <div class="offer-price">‚Çπ999</div>
                                <div class="mrp">‚Çπ2,997</div>
                            </div>
                            <button class="expand-btn" type="button" aria-label="Show details">
                                <span class="expand-icon">‚ñº</span>
                            </button>
                        </div>
                        
                        <div class="program-details hidden">
                            <div class="program-description">
                                <p>A light-touch program to help you take charge of your blood sugar levels. Guided by nutrition and lifestyle experts.</p>
                            </div>

                            <div class="program-features">
                                <div class="feature">1 Doctor/Diabetologist consultation</div>
                                <div class="feature">2 Nutritionist sessions + check-ins</div>
                                <div class="feature">Unlimited chat support</div>
                                <div class="feature">22+ live Yoga/Exercise classes per month</div>
                                <div class="feature">AI-powered personalized diet & exercise plans</div>
                                <div class="feature">Health trackers & risk assessments</div>
                            </div>

                            <div class="best-suited">
                                <strong>Best suited for:</strong> HbA1c > 5.7% or recently diagnosed diabetes (1‚Äì5 years)
                            </div>
                        </div>
                    </div>
                    
                    <div class="program-selection">
                        <input type="radio" name="selectedProgram" id="diabetes-light" value="diabetes-light">
                        <label for="diabetes-light" class="radio-label">
                            <span class="radio-custom"></span>
                            <span class="select-text">Select this program</span>
                        </label>
                    </div>
                </div>

                <!-- Diabetes Management Plus -->
                <div class="program-item">
                    <div class="program-card" data-program="diabetes-plus">
                        <div class="program-main">
                            <div class="program-icon">ü©∫</div>
                            <div class="program-info">
                                <h3 class="program-name">Diabetes Management ‚Äì Plus</h3>
                                <span class="program-duration">3 months</span>
                            </div>
                            <div class="program-pricing">
                                <div class="offer-price">‚Çπ1,999</div>
                                <div class="mrp">‚Çπ5,997</div>
                            </div>
                            <button class="expand-btn" type="button" aria-label="Show details">
                                <span class="expand-icon">‚ñº</span>
                            </button>
                        </div>
                        
                        <div class="program-details hidden">
                            <div class="program-description">
                                <p>High-touch plan for closer support. Achieve measurable HbA1c improvements (0.5‚Äì1% reduction).</p>
                            </div>

                            <div class="program-features">
                                <div class="feature">2 Doctor/Diabetologist consultations</div>
                                <div class="feature">4 Nutritionist sessions + check-ins</div>
                                <div class="feature">Unlimited expert chat support</div>
                                <div class="feature">22+ live Yoga/Exercise classes per month</div>
                                <div class="feature">Personalized diet & exercise coaching</div>
                                <div class="feature">Wellness libraries & recipe book</div>
                            </div>

                            <div class="best-suited">
                                <strong>Best suited for:</strong> HbA1c > 6.5% or living with diabetes for 1‚Äì5 years
                            </div>
                        </div>
                    </div>
                    
                    <div class="program-selection">
                        <input type="radio" name="selectedProgram" id="diabetes-plus" value="diabetes-plus">
                        <label for="diabetes-plus" class="radio-label">
                            <span class="radio-custom"></span>
                            <span class="select-text">Select this program</span>
                        </label>
                    </div>
                </div>

                <!-- Weight Management Light -->
                <div class="program-item">
                    <div class="program-card" data-program="weight-light">
                        <div class="program-main">
                            <div class="program-icon">‚öñÔ∏è</div>
                            <div class="program-info">
                                <h3 class="program-name">Weight Management ‚Äì Light</h3>
                                <span class="program-duration">3 months</span>
                            </div>
                            <div class="program-pricing">
                                <div class="offer-price">‚Çπ999</div>
                                <div class="mrp">‚Çπ2,997</div>
                            </div>
                            <button class="expand-btn" type="button" aria-label="Show details">
                                <span class="expand-icon">‚ñº</span>
                            </button>
                        </div>
                        
                        <div class="program-details hidden">
                            <div class="program-description">
                                <p>Lighter support plan to kick-start sustainable weight loss with expert nutrition and exercise guidance.</p>
                            </div>

                            <div class="program-features">
                                <div class="feature">2 Nutritionist sessions + check-ins</div>
                                <div class="feature">2 Yoga/Exercise Coach sessions</div>
                                <div class="feature">Unlimited chat support with experts</div>
                                <div class="feature">22+ live Yoga/Exercise classes per month</div>
                                <div class="feature">AI-powered diet & exercise guidance</div>
                                <div class="feature">Weight, steps, sleep trackers</div>
                            </div>

                            <div class="best-suited">
                                <strong>Best suited for:</strong> BMI > 27 or managing related conditions (PCOS, hypertension, etc.)
                            </div>
                        </div>
                    </div>
                    
                    <div class="program-selection">
                        <input type="radio" name="selectedProgram" id="weight-light" value="weight-light">
                        <label for="weight-light" class="radio-label">
                            <span class="radio-custom"></span>
                            <span class="select-text">Select this program</span>
                        </label>
                    </div>
                </div>

                <!-- Weight Management Plus -->
                <div class="program-item">
                    <div class="program-card" data-program="weight-plus">
                        <div class="program-main">
                            <div class="program-icon">‚öñÔ∏è</div>
                            <div class="program-info">
                                <h3 class="program-name">Weight Management ‚Äì Plus</h3>
                                <span class="program-duration">3 months</span>
                            </div>
                            <div class="program-pricing">
                                <div class="offer-price">‚Çπ1,999</div>
                                <div class="mrp">‚Çπ5,997</div>
                            </div>
                            <button class="expand-btn" type="button" aria-label="Show details">
                                <span class="expand-icon">‚ñº</span>
                            </button>
                        </div>
                        
                        <div class="program-details hidden">
                            <div class="program-description">
                                <p>Intensive, high-touch plan with structured coaching for those needing closer supervision to meet weight goals.</p>
                            </div>

                            <div class="program-features">
                                <div class="feature">4 Nutritionist sessions + check-ins</div>
                                <div class="feature">4 Yoga/Exercise Coach sessions</div>
                                <div class="feature">Unlimited expert chat support</div>
                                <div class="feature">22+ live Yoga/Exercise classes per month</div>
                                <div class="feature">Personalized nutrition plans by experts</div>
                                <div class="feature">Wellness libraries, challenges & recipes</div>
                            </div>

                            <div class="best-suited">
                                <strong>Best suited for:</strong> BMI > 30 or weight management for other health conditions
                            </div>
                        </div>
                    </div>
                    
                    <div class="program-selection">
                        <input type="radio" name="selectedProgram" id="weight-plus" value="weight-plus">
                        <label for="weight-plus" class="radio-label">
                            <span class="radio-custom"></span>
                            <span class="select-text">Select this program</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="app-access-note">
                <div class="app-icon">üì±</div>
                <p><strong>All programs include:</strong> Full access to the Lillia app for easy scheduling, progress tracking, and 24/7 support</p>
            </div>

            <div class="consultation-cta">
                <div class="consultation-highlight">
                    <div class="consultation-icon">üí¨</div>
                    <div class="consultation-text">
                        <h3>Start with a FREE Consultation</h3>
                        <p>Discuss your health goals and get personalized recommendations from our expert nutritionist before committing to any program.</p>
                    </div>
                </div>
                <button class="btn btn-primary btn-large" id="proceedToOnboarding" disabled>
                    Book FREE Consultation & Continue
                </button>
            </div>
        </div>

        <!-- Step 1: User Details Form -->
        <div class="form-container hidden" id="step1">
            <div class="form-header">
                <h1>Tell Us About Yourself</h1>
                <p>Let's gather some basic information to personalize your experience</p>
            </div>

            <div class="selected-program-summary" id="selectedProgramSummary">
                <!-- Selected program details will be inserted here -->
            </div>

            <form id="userDetailsForm">
                <div class="form-group">
                    <label for="fullName">Full Name *</label>
                    <input type="text" id="fullName" name="fullName" required placeholder="Enter your full name">
                    <span class="error-message"></span>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="mobileNumber">Mobile Number *</label>
                        <input type="tel" id="mobileNumber" name="mobileNumber" required placeholder="+91 XXXXX XXXXX" pattern="[0-9+\s-]{10,}">
                        <span class="error-message"></span>
                    </div>

                    <div class="form-group">
                        <label for="email">Email Address *</label>
                        <input type="email" id="email" name="email" required placeholder="your@email.com">
                        <span class="error-message"></span>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group" id="hba1c-group">
                        <label for="hba1c">Latest HbA1c (%)</label>
                        <input type="number" id="hba1c" name="hba1c" step="0.1" min="0" max="15" placeholder="e.g., 6.5">
                        <span class="error-message"></span>
                        <span class="helper-text">Optional: Your most recent HbA1c reading</span>
                    </div>

                    <div class="form-group">
                        <label for="height">Height (cm) *</label>
                        <input type="number" id="height" name="height" required min="50" max="250" placeholder="e.g., 170">
                        <span class="error-message"></span>
                    </div>

                    <div class="form-group">
                        <label for="weight">Weight (kg) *</label>
                        <input type="number" id="weight" name="weight" required step="0.1" min="20" max="300" placeholder="e.g., 70">
                        <span class="error-message"></span>
                    </div>
                </div>

                <div class="button-group">
                    <button type="button" class="btn btn-secondary" onclick="goToPrograms()">Back to Programs</button>
                    <button type="submit" class="btn btn-primary">Continue</button>
                </div>
            </form>
        </div>

        <!-- Step 2: OTP Verification -->
        <div class="form-container hidden" id="step2">
            <div class="form-header">
                <h1>Verify Your Email</h1>
                <p>We've sent a verification code to <span id="emailDisplay"></span></p>
            </div>

            <form id="otpForm">
                <div class="otp-container">
                    <input type="text" class="otp-input" maxlength="1" pattern="[0-9]">
                    <input type="text" class="otp-input" maxlength="1" pattern="[0-9]">
                    <input type="text" class="otp-input" maxlength="1" pattern="[0-9]">
                    <input type="text" class="otp-input" maxlength="1" pattern="[0-9]">
                    <input type="text" class="otp-input" maxlength="1" pattern="[0-9]">
                    <input type="text" class="otp-input" maxlength="1" pattern="[0-9]">
                </div>
                <span class="error-message" id="otpError"></span>

                <div class="resend-container">
                    <p>Didn't receive the code? <button type="button" id="resendOtp" class="link-btn">Resend OTP</button></p>
                    <p class="timer" id="resendTimer"></p>
                </div>

                <div class="button-group">
                    <button type="button" class="btn btn-secondary" onclick="goToStep(1)">Back</button>
                    <button type="submit" class="btn btn-primary">Verify & Continue</button>
                </div>
            </form>
        </div>

        <!-- Step 3: Schedule Consultation -->
        <div class="form-container hidden" id="step3">
            <div class="form-header">
                <h1>Schedule Your FREE Consultation</h1>
                <p>Book your first session with our expert nutritionist</p>
            </div>

            <div class="nutritionist-info">
                <div class="nutritionist-details">
                    <h3 id="nutritionistName">Dr. Sarah Johnson</h3>
                    <p>Certified Nutritionist & Diabetes Specialist</p>
                </div>
            </div>

            <div id="calendarContainer">
                <!-- Calendar will be loaded here -->
            </div>

            <div class="selected-slot hidden" id="selectedSlotContainer">
                <h3>Selected Time Slot</h3>
                <p id="selectedSlotDisplay"></p>
            </div>

            <div class="button-group">
                <button type="button" class="btn btn-secondary" onclick="goToStep(2)">Back</button>
                <button type="button" class="btn btn-primary" id="confirmBooking" disabled>Confirm Booking</button>
            </div>
        </div>

        <!-- Step 4: Confirmation & App Download -->
        <div class="form-container hidden" id="step4">
            <div class="success-container">
                <div class="success-icon">‚úì</div>
                <h1>Congratulations!</h1>
                <p>Your profile has been created successfully</p>
            </div>

            <div class="confirmation-details">
                <h3>Appointment Confirmed</h3>
                <div class="appointment-card">
                    <div class="appointment-info">
                        <p><strong>Date & Time:</strong> <span id="appointmentDateTime"></span></p>
                        <p><strong>Nutritionist:</strong> <span id="appointmentNutritionist"></span></p>
                        <p><strong>Type:</strong> Free Consultation (30 minutes)</p>
                    </div>
                </div>
                <p class="confirmation-note">Confirmation details have been sent to your email</p>
            </div>

            <div class="app-download-section">
                <h3>Get Started with Our App</h3>
                <p>Access your personalized health dashboard on the go</p>
                
                <div class="deep-link-container">
                    <p class="deep-link-label">Your Personal Login Link:</p>
                    <div class="deep-link-display">
                        <code id="deepLinkUrl"></code>
                        <button class="copy-btn" onclick="copyDeepLink()">Copy</button>
                    </div>
                </div>

                <button class="btn btn-download" id="downloadAppBtn">
                    <span class="download-icon">üì±</span>
                    Download App
                </button>

                <div class="app-features">
                    <div class="feature">
                        <span class="feature-icon">üìä</span>
                        <span>Track Progress</span>
                    </div>
                    <div class="feature">
                        <span class="feature-icon">üçé</span>
                        <span>Meal Plans</span>
                    </div>
                    <div class="feature">
                        <span class="feature-icon">üí¨</span>
                        <span>Chat Support</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading Overlay -->
        <div class="loading-overlay hidden" id="loadingOverlay">
            <div class="spinner"></div>
            <p id="loadingText">Processing...</p>
        </div>
    </div>

    <script src="onboarding-script.js"></script>
</body>
</html>